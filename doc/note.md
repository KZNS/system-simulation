# 操作系统模拟

- [1. processor scheduling](#1-processor-scheduling)
  - [1.1. 实验需求](#11-实验需求)
  - [1.2. 测试数据](#12-测试数据)
- [2. memory management](#2-memory-management)
  - [2.1. 实验需求](#21-实验需求)
  - [2.2. 测试数据](#22-测试数据)
- [3. disk shift arm scheduling](#3-disk-shift-arm-scheduling)
  - [3.1. 实验需求](#31-实验需求)
- [4. file management](#4-file-management)
  - [4.1. 实验需求](#41-实验需求)

## 1. processor scheduling

### 1.1. 实验需求

1. 先来先服务FCFS
   1. 一个普通队列，非抢占
2. 轮转RR（q=1）
   1. 时间片大小为1
3. 最短进程优先SJF（非抢占方式）
   1. 优先队列，短优先
4. 最高响应比优先HRN（非抢占方式）
   1. 根据等待时间和要求服务时间，动态响应时间

计算内容

1. 完成时间
2. 周转时间
3. 带权周转时间

### 1.2. 测试数据

```text
1,3
1,2
3,5
4,5
5,1
```

## 2. memory management

### 2.1. 实验需求

1. 在该实验中，采用**可变分区**方式完成对存储空间的管理
   1. 即存储空间的**分配**与**回收**工作
2. 设计用来记录主存使用情况的**数据结构**：
   1. 已分区表
   2. 空闲分区表
3. 在设计好的数据结构上设计一个**主存分配算法**，要求实现的基本功能操作有：
   1. 寻找空闲分区
   2. 空闲分区表的修改
   3. 已分区表的修改
4. 在设计好的数据结构上设计一个**主存回收算法**。
   1. 其中，若回收的分区有上邻空闲分区和（或）下邻空闲分区，要求**合并**为一个空闲分区登记在空闲分区表的一个表项里。
5. 系统每进行一次分配或回收，都要给出**内存映像图**或**已分配表**及**未分配表**以观察内存的变化。

### 2.2. 测试数据

```text
allocate,20,0
allocate,10,0
allocate,30,0
allocate,40,0
recycle,,2
recycle,,3
allocate,30,0
```

## 3. disk shift arm scheduling

### 3.1. 实验需求

1. 示例实验程序中模拟两种磁盘移臂调度算法：
   1. SSTF算法
   2. SCAN算法
2. 能对两种算法给定任意序列不同的**磁盘请求序列**，显示**响应磁盘请求的过程**。
3. 能统计和报告不同算法情况下**响应请求的顺序**、**移臂的总量**。

## 4. file management

### 4.1. 实验需求

给出一个磁盘块序列：1、2、3、……、500，初始状态所有块为空的，每块的大小为**2k**。
选择使用**空闲表**、**空闲盘区链**、**位示图**三种算法**之一**来管理空闲块。  
对于基于块的索引分配执行以下步骤：

1. **随机生成**2k-10k的文件50个，文件名为1.txt、2.txt、……、50.txt，按照上述算法存储到模拟磁盘中。
2. **删除**奇数.txt（1.txt、3.txt、……、49.txt）文件
3. **新创建**5个文件（A.txt、B.txt、C.txt、D.txt、E.txt），大小为：7k、5k、2k、9k、3.5k，按照与(1)相同的算法存储到模拟磁盘中。
4. 给出文件A.txt、B.txt、C.txt、D.txt、E.txt的**盘块存储状态**和**所有空闲区块的状态**。
